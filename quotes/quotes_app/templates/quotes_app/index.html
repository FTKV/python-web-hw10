{% load extract_tags %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Quotes</title>
    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css" />
</head>

<body>
    <main class="container">
        <nav style="margin-bottom: 20px; border-bottom: 2px solid; padding-left: 30px">
            {% if user.is_authenticated %}
            <ul>
                <li><a href="{% url 'quotes_app:add_author' %}" role="button">Add author</a></li>
                <li><a href="{% url 'quotes_app:add_quote' %}" role="button">Add quote</a></li>
                <li><a href="{% url 'quotes_app:add_tag' %}" role="button">Add tag</a></li>
            </ul>
            <ul>
                <li>Welcome <b>{{ user.username }}!</b></li>
                <li><a href="{% url 'users:profile' %}" role="button">Profile</a></li>
                <li><a href="{% url 'users:logout' %}" role="button">Logout</a></li>
            </ul>
            {% else %}
            <ul>
                <li><a href="{% url 'users:signup' %}" role="button">Sign Up</a></li>
                <li><a href="{% url 'users:login' %}" role="button">Login</a></li>
            </ul>
            {% endif %}
        </nav>

        {% if quotes %}
            {% for quote in quotes %}
            <ul>
                <li>
                    <i>{{ quote.quote }}</i>
                    <p><a href="{% url 'quotes_app:author_info' quote.author.id %}">{{ quote.author }}</a></p>
                    <p>Tags: <small> {{ quote.tags|tags }} </small></p>
                </li>
            </ul>
            {% endfor %}
        {% endif %}
    </main>
</body>

</html>